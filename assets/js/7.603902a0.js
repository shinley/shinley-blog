(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{181:function(a,t,s){"use strict";s.r(t);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB")]),a._v(" "),s("h2",{attrs:{id:"_1-mongodb的配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-mongodb的配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.Mongodb的配置")]),a._v(" "),s("p",[a._v("windows下需要配置path环境变量到 bin 目录")]),a._v(" "),s("p",[a._v("mongodb的数据库文件夹，新建一个db目录，用来保存所有数据文件。")]),a._v(" "),s("p",[a._v("用mongod.exe命令启动，启动时可以设置端口号，也可以不设置端口号")]),a._v(" "),s("h5",{attrs:{id:"不设端口："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不设端口：","aria-hidden":"true"}},[a._v("#")]),a._v(" 不设端口：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mongod --dbpath E:\\MongoDB\\db\n")])])]),s("h5",{attrs:{id:"设置端口："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置端口：","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置端口：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mongod --dbpath E:\\MongoDB\\db --port=27020\n")])])]),s("h5",{attrs:{id:"连接mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接mongodb","aria-hidden":"true"}},[a._v("#")]),a._v(" 连接mongodb:")]),a._v(" "),s("p",[a._v("在cmd命令行直接执行命令：mongo")]),a._v(" "),s("p",[a._v("会直接连到一个测试库。")]),a._v(" "),s("h6",{attrs:{id:"查询所有的数据库："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询所有的数据库：","aria-hidden":"true"}},[a._v("#")]),a._v(" 查询所有的数据库：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("    show databases;\n")])])]),s("h6",{attrs:{id:"查询所有的集合："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询所有的集合：","aria-hidden":"true"}},[a._v("#")]),a._v(" 查询所有的集合：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("    show collections;\n")])])]),s("h6",{attrs:{id:"删除集合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除集合","aria-hidden":"true"}},[a._v("#")]),a._v(" 删除集合")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("db.集合名称.drop();\n")])])]),s("h6",{attrs:{id:"在mongodb根目录下建立一个mongodb-conf的配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在mongodb根目录下建立一个mongodb-conf的配置文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 在mongodb根目录下建立一个mongodb.conf的配置文件")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("#设置数据目录路径\ndbpath = E:\\MongoDB\\db\n#设置日志信息的文件路径\nlogpath = E:\\MongoDB\\logs\n#打开日志输出操作\nlogappend = true\n#不使用用户登录\nnoauth=true\n#设置端口\nport = 27020\n")])])]),s("p",[a._v("在mongodb根目录下建立日志文件夹 : logs")]),a._v(" "),s("p",[a._v("在logs文件夹下建立一个日志文件：mongodb.log")]),a._v(" "),s("p",[a._v("重新启动MongoDB数据库：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mongod -f E:\\MongoDB\\mongodb.conf\n")])])]),s("h6",{attrs:{id:"再次连接mongodb数据库，需要加上端口号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#再次连接mongodb数据库，需要加上端口号","aria-hidden":"true"}},[a._v("#")]),a._v(" 再次连接mongodb数据库，需要加上端口号")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("./mongo --port=27020\n")])])]),s("h6",{attrs:{id:"关闭mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭mongodb","aria-hidden":"true"}},[a._v("#")]),a._v(" 关闭mongodb")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("    pkill mongod\n")])])]),s("p",[a._v("进入mongo shell ：运行")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("db.shutdownServer()\n")])])]),s("p",[a._v("官方文档说可以使用killall mongo或kill  -15 PID来关闭。\n或者在Mongo Javascript Shell中")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(">use admin\n>db.shutdownServer( )\nmongo默认处于test,如果直接运行会出现\n> db.shutdownServer()\nshutdown command only works with the admin database; try 'use admin'\n\n")])])]),s("p",[a._v("MongoDB数据库一关系型数据库的概念对应关系")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("关系型数据库")]),a._v(" "),s("th",[a._v("NoSql数据库")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("数据库")]),a._v(" "),s("td",[a._v("数据库")])]),a._v(" "),s("tr",[s("td",[a._v("表")]),a._v(" "),s("td",[a._v("集合")])]),a._v(" "),s("tr",[s("td",[a._v("行")]),a._v(" "),s("td",[a._v("成员")])]),a._v(" "),s("tr",[s("td",[a._v("主键")]),a._v(" "),s("td",[a._v("ObjectID (自动维护)")])])])]),a._v(" "),s("p",[a._v("在整个行业中MongoDB是发展最好的一个NoSQL数据库。")]),a._v(" "),s("h4",{attrs:{id:"远程连接数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程连接数据库","aria-hidden":"true"}},[a._v("#")]),a._v(" 远程连接数据库")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ mongo  192.168.55.127:27020/myDB\n")])])]),s("p",[a._v("或者启动 mongo shell时不连接任何mongod实例，通过 --nodb参数启动")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('$mongo --nodb\n\n$conn = new Mongo("192.168.55.127:27020");\n$db = conn.getDB("myDB");\n')])])]),s("h2",{attrs:{id:"_2-数据操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据操作","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.数据操作")]),a._v(" "),s("p",[a._v("数据库最核心的功能CRUD,Mongodb里面也一样。\n除了增加之外，其它的都很麻烦。")]),a._v(" "),s("h3",{attrs:{id:"_1-数据的增加："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据的增加：","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.数据的增加：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.集合.insert();\n\ndb.infos.insert({"url":"www.imongodb.com"});\n')])])]),s("h3",{attrs:{id:"保存存数组："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#保存存数组：","aria-hidden":"true"}},[a._v("#")]),a._v(" 保存存数组：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.infos.insert([{"url":"www.imongodb.com"},\n        {"url":"www.imongodb.com"}]);\n')])])]),s("h3",{attrs:{id:"使用javascript语句："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用javascript语句：","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用javascript语句：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('for(var i=0;i<1000;i++){\n    db.infos.insert({"url":"www.imongodb.com" + i});\n}\n')])])]),s("h3",{attrs:{id:"【数据查询】"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#【数据查询】","aria-hidden":"true"}},[a._v("#")]),a._v(" 【数据查询】")]),a._v(" "),s("p",[a._v("基本语法：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("db.集合名称.find({查询条件}[,{设置显示的字段}]);\n")])])]),s("p",[a._v("范例：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("db.infos.find();  // 查询所有\n")])])]),s("p",[a._v("查询出所有url为“www.imongodb.com”的数据")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.infos.find({"url":"www.imongodb.com"});\n')])])]),s("p",[a._v("对于设置显示字段 称为数据的设影操作，如果不需要显示设为0，\n显示设为1 。")]),a._v(" "),s("p",[a._v("范例：不显示“_id”")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.infos({"url":"www.imongodb.com"},{"_id":0});\ndb.infos({"url":"www.imongodb.com"},{"_id":0,"url":1});\n')])])]),s("p",[a._v("数据格式化：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.infos({"url":"www.imongodb.com"},{"_id":0,"url":1}).pretty();\n')])])]),s("h3",{attrs:{id:"关系查询："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关系查询：","aria-hidden":"true"}},[a._v("#")]),a._v(" 关系查询：")]),a._v(" "),s("p",[a._v("关系表大式：大于（$gt）、小于（$lt） 、大于等于（$gte）、小于等于($lte)、不等于（$ne）;")]),a._v(" "),s("p",[a._v("等于的话就是：key:value")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.students.find({"name":"张三"}).pretty();\ndb.student.find({"set":"男"}).pretty();\n')])])]),s("p",[a._v("范例：查询年龄大于19岁的学生")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.students.find({"age":{"$gt":19}}).pretty();\n')])])]),s("p",[a._v("范例：查询成绩大于60分的学生")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.students.find({"score":{"$gte":60}}).pretty();\n')])])]),s("p",[a._v("范例：查询不是王五的信息")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('db.students.find({"name":{"$ne":"王五"}}).pretty();\n')])])]),s("h2",{attrs:{id:"_3-mongodb用户管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-mongodb用户管理","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.MongoDB用户管理")]),a._v(" "),s("p",[a._v("mongodb可以不使用用户名和密码。")]),a._v(" "),s("p",[a._v("但是如果要使用用户名和密码：")]),a._v(" "),s("ul",[s("li",[a._v("1.服务器启动时打开授权认证")]),a._v(" "),s("li",[a._v("2.需要配置用户名和密码")])]),a._v(" "),s("p",[a._v("但是配置用户名和密码，一定是针对一个数据库的。")]),a._v(" "),s("p",[a._v("切换到相应数据库：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("use")]),a._v(" zmdla\n")])])]),s("p",[a._v("任何的用户都必须具有一个自已的操作角色")]),a._v(" "),s("p",[a._v("对于基础的角色：read  readWriter,")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("createUser"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("{\n    "),s("span",{attrs:{class:"token string"}},[a._v('"user"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"hello"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{attrs:{class:"token string"}},[a._v('"pwd"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"java"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{attrs:{class:"token string"}},[a._v('"roles"')]),a._v(":"),s("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("{"),s("span",{attrs:{class:"token string"}},[a._v('"role"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"readWrite"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{attrs:{class:"token string"}},[a._v('"db"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"zmdla"')]),a._v("}"),s("span",{attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n}"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("在启动参数中把noauth=true,改为 auth=true;")]),a._v(" "),s("p",[a._v("再连接数据库，如果不用用户名和密码，能切换到数据库，但不能查询数据。")]),a._v(" "),s("p",[a._v("以用户名和密码连接：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("mongo localhost:"),s("span",{attrs:{class:"token number"}},[a._v("27020")]),s("span",{attrs:{class:"token operator"}},[a._v("/")]),a._v("zmdla "),s("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("u hello "),s("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("p java\n")])])]),s("p",[a._v("如果要修改密码，必须关闭授权登录。")]),a._v(" "),s("p",[a._v("修改密码：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("changeUserPassword"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token string"}},[a._v('"hello"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{attrs:{class:"token string"}},[a._v('"happy"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"角色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#角色","aria-hidden":"true"}},[a._v("#")]),a._v(" 角色")]),a._v(" "),s("ul",[s("li",[a._v("1.数据库角色： read 、readWrite、dbAdmin、dbOwner、userAdmin")]),a._v(" "),s("li",[a._v("2.集群角色：clusterAdmin,clusterManager ...")]),a._v(" "),s("li",[a._v("3.备份角色：backup ,restore")]),a._v(" "),s("li",[a._v("4.其他特殊权限： DBAdminAnyDatabase...    readAnyDatabase  角色+AnyDatabase")])]),a._v(" "),s("h2",{attrs:{id:"_4-mongodb阿基础操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-mongodb阿基础操作","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.MongoDB阿基础操作")]),a._v(" "),s("p",[a._v("MongoDB中也有数据库的概念：")]),a._v(" "),s("h3",{attrs:{id:"切换数据库："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换数据库：","aria-hidden":"true"}},[a._v("#")]),a._v(" 切换数据库：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("use")]),a._v(" dbName"),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("如果不存在这个数据库，切换也不会报错，插入数据时，会自动创建数据库\n和表。")]),a._v(" "),s("h3",{attrs:{id:"显示数据库-："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示数据库-：","aria-hidden":"true"}},[a._v("#")]),a._v(" 显示数据库 ：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("show")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("databases")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"创建一个集合："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建一个集合：","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建一个集合：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("createCollection"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token string"}},[a._v('"user"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("再次show databases; 就会显示出切换的数据库")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("find"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("  "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("select")]),a._v(" "),s("span",{attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\ndb"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("insert")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("{"),s("span",{attrs:{class:"token string"}},[a._v('"name"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"imongodb.com"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{attrs:{class:"token string"}},[a._v('"age"')]),a._v(":"),s("span",{attrs:{class:"token number"}},[a._v("1")]),a._v("}"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"查看集合："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看集合：","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看集合：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("show")]),a._v(" collections"),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"【查询数据】"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#【查询数据】","aria-hidden":"true"}},[a._v("#")]),a._v(" 【查询数据】")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("集合名称"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("find"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("{条件}"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("从传统的数据来看(集合相当于表结构)，表结构一旦定义就必须按照定义的表结构进行添加数据。\nMongoDB不一样，它可以自已随意扩充数据。")]),a._v(" "),s("h3",{attrs:{id:"增加不规的数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#增加不规的数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 增加不规的数据")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("var userInfo "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" {"),s("span",{attrs:{class:"token string"}},[a._v('"name"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"www.imongodb.com"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{attrs:{class:"token string"}},[a._v('"age"')]),a._v(":"),s("span",{attrs:{class:"token number"}},[a._v("1")]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{attrs:{class:"token string"}},[a._v('"address"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"北京"')]),a._v("}"),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\ndb"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("insert")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("userInfo"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("因为mongodb的表结构不确定，所以也就没有类似mysql的查看表结构的语法。")]),a._v(" "),s("p",[a._v('关于ID的问题：\n在MongoDB集合中的每一行记录都会生成一个 "_id":ObjectId("xxxxxx")数据，这个\n组成是：时间戳 + 机器码 +进程PID + 计数器， 这个ID的信息是MongoDB数据库生成的。')]),a._v(" "),s("p",[a._v("范例：查看单独的一个文档信息")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("findOne"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"删除数据："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除数据：","aria-hidden":"true"}},[a._v("#")]),a._v(" 删除数据：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("remove"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("{"),s("span",{attrs:{class:"token string"}},[a._v('"xxx"')]),a._v(":"),s("span",{attrs:{class:"token string"}},[a._v('"yyy"')]),a._v("}"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"更新数据："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新数据：","aria-hidden":"true"}},[a._v("#")]),a._v(" 更新数据：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("update")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("{条件}"),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v("{内容}"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"删除集合："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除集合：","aria-hidden":"true"}},[a._v("#")]),a._v(" 删除集合：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("user")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("drop")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"删除数据库："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除数据库：","aria-hidden":"true"}},[a._v("#")]),a._v(" 删除数据库：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[a._v("db"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dropDatabase"),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  删除当前所在的数据库\n")])])]),s("h3",{attrs:{id:"查看当前所在的数据库："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前所在的数据库：","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看当前所在的数据库：")]),a._v(" "),s("p",[a._v("直接输入:")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" db\n")])])])])}],!1,null,null,null);e.options.__file="README.md";t.default=e.exports}}]);