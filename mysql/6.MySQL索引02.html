<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6.MySQL索引(二) | 陈新磊的读书笔记</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/assets/css/styles.f518d815.css" as="style"><link rel="preload" href="/assets/js/app.f518d815.js" as="script"><link rel="preload" href="/assets/js/26.14cfb51c.js" as="script"><link rel="prefetch" href="/assets/js/16.a05f5c53.js"><link rel="prefetch" href="/assets/css/1.styles.5a8ea794.css"><link rel="prefetch" href="/assets/js/1.5a8ea794.js"><link rel="prefetch" href="/assets/css/2.styles.cf289c67.css"><link rel="prefetch" href="/assets/js/2.cf289c67.js"><link rel="prefetch" href="/assets/js/3.ebd152b3.js"><link rel="prefetch" href="/assets/js/4.17531713.js"><link rel="prefetch" href="/assets/js/5.af9e6587.js"><link rel="prefetch" href="/assets/js/6.fc925cca.js"><link rel="prefetch" href="/assets/js/7.603902a0.js"><link rel="prefetch" href="/assets/js/8.d2d6cb3f.js"><link rel="prefetch" href="/assets/js/9.1b044dfa.js"><link rel="prefetch" href="/assets/js/10.931c5de7.js"><link rel="prefetch" href="/assets/js/11.c02b6a22.js"><link rel="prefetch" href="/assets/js/12.905af051.js"><link rel="prefetch" href="/assets/js/13.43b353fc.js"><link rel="prefetch" href="/assets/js/14.6b313113.js"><link rel="prefetch" href="/assets/js/15.f92f208f.js"><link rel="prefetch" href="/assets/js/17.f7e63732.js"><link rel="prefetch" href="/assets/js/18.cfdb5582.js"><link rel="prefetch" href="/assets/js/19.f9c23d6f.js"><link rel="prefetch" href="/assets/js/20.ca5cacc5.js"><link rel="prefetch" href="/assets/js/21.b9a3f6bf.js"><link rel="prefetch" href="/assets/js/22.ad52503d.js"><link rel="prefetch" href="/assets/js/23.b50655b8.js"><link rel="prefetch" href="/assets/js/24.ae33eca4.js"><link rel="prefetch" href="/assets/js/25.35319afc.js"><link rel="prefetch" href="/assets/js/27.6d00f7aa.js"><link rel="prefetch" href="/assets/js/28.9adb62e6.js"><link rel="prefetch" href="/assets/js/29.96b612e5.js"><link rel="prefetch" href="/assets/js/30.d16089d8.js"><link rel="prefetch" href="/assets/js/31.833984b0.js"><link rel="prefetch" href="/assets/js/32.0f873b57.js"><link rel="prefetch" href="/assets/js/33.e1a966ad.js"><link rel="prefetch" href="/assets/js/34.1e435d13.js"><link rel="prefetch" href="/assets/js/35.400e2100.js">
    <link rel="stylesheet" href="/assets/css/1.styles.5a8ea794.css"><link rel="stylesheet" href="/assets/css/2.styles.cf289c67.css"><link rel="stylesheet" href="/assets/css/styles.f518d815.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">陈新磊的读书笔记</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/python/fabric.html" class="nav-link">主页</a></div><div class="nav-item"><a href="/mongodb/" class="nav-link">MongoDB</a></div><div class="nav-item"><a href="/redis/" class="nav-link">Redis</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/python/fabric.html" class="nav-link">主页</a></div><div class="nav-item"><a href="/mongodb/" class="nav-link">MongoDB</a></div><div class="nav-item"><a href="/redis/" class="nav-link">Redis</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Python</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/python/fabric.html" class="sidebar-link">自动化部署工具Fabric</a></li><li><a href="/python/subprocess.html" class="sidebar-link">Subprocess调用shell命令</a></li><li><a href="/python/pexpect.html" class="sidebar-link">自动化交互式的命令行pexpect</a></li><li><a href="/python/crashzip.html" class="sidebar-link">暴力破解zip压缩包的密码</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>JAVA</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/java/jvm.html" class="sidebar-link">JVM性能调优</a></li><li><a href="/java/thread.html" class="sidebar-link">多线程</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/mysql/1.Install-MySQL5.7.22.html" class="sidebar-link">1. MySQL 5.7.22安装</a></li><li><a href="/mysql/2.MySQL-User-Manager.html" class="sidebar-link">2. MySQL 用户管理</a></li><li><a href="/mysql/3.MySQL备份与还原.html" class="sidebar-link">3.MySql备份与还原</a></li><li><a href="/mysql/4.七种连接方式.html" class="sidebar-link">4.七种连接方式</a></li><li><a href="/mysql/5.MySQL索引01.html" class="sidebar-link">5.MySQL索引（一）</a></li><li><a href="/mysql/6.MySQL索引02.html" class="active sidebar-link">6.MySQL索引(二)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#mysql索引分类" class="sidebar-link">MySQL索引分类</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#单值索引" class="sidebar-link">单值索引</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#唯一索引" class="sidebar-link">唯一索引</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#复合索引" class="sidebar-link">复合索引</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#基本语法" class="sidebar-link">基本语法</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#需要建索引的情况" class="sidebar-link">需要建索引的情况</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#哪引动情况不需要建索引" class="sidebar-link">哪引动情况不需要建索引</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#性能分析" class="sidebar-link">性能分析</a></li><li class="sidebar-sub-header"><a href="/mysql/6.MySQL索引02.html#覆盖索引：" class="sidebar-link">覆盖索引：</a></li></ul></li><li><a href="/mysql/7.单表优化案例.html" class="sidebar-link">7.单表优化案例</a></li><li><a href="/mysql/8.两表和三表优化案例.html" class="sidebar-link">8. 两表和三表优化案例</a></li><li><a href="/mysql/9.索引优化01.html" class="sidebar-link">9.索引优化(一)</a></li><li><a href="/mysql/10.索引优化02.html" class="sidebar-link">10.索引优化(二)</a></li><li><a href="/mysql/11.索引优化03.html" class="sidebar-link">11. 索引优化(三)</a></li><li><a href="/mysql/12.索引优化04.html" class="sidebar-link">12. 索引优化(四)</a></li><li><a href="/mysql/13.索引优化05.html" class="sidebar-link">13.索引优化(五)</a></li><li><a href="/mysql/14.索引优化06.html" class="sidebar-link">14. 索引优化(六)</a></li><li><a href="/mysql/15.索引优化07.html" class="sidebar-link">15.索引优化(七)</a></li><li><a href="/mysql/16.索引优化08.html" class="sidebar-link">16.索引优化(八)</a></li><li><a href="/mysql/17.索引面试题.html" class="sidebar-link">17.索引面试题</a></li><li><a href="/mysql/18.小表驱动大表.html" class="sidebar-link">18.小表驱动大表</a></li><li><a href="/mysql/19.order by关键字优化.html" class="sidebar-link">19.order by关键字优化</a></li><li><a href="/mysql/20.慢查询日志分析.html" class="sidebar-link">20.慢查询日志分析</a></li><li><a href="/mysql/21.批量数据脚本.html" class="sidebar-link">21.批量数据脚本</a></li><li><a href="/mysql/22.Show Profile.html" class="sidebar-link">22.Show Profile</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="_6-mysql索引-二"><a href="#_6-mysql索引-二" aria-hidden="true" class="header-anchor">#</a> 6.MySQL索引(二)</h1> <h2 id="mysql索引分类"><a href="#mysql索引分类" aria-hidden="true" class="header-anchor">#</a> MySQL索引分类</h2> <ul><li>BTree索引</li> <li>Hash索引</li> <li>full-text全文索引</li> <li>R-tree索引</li></ul> <p>MySQL官方对索引的定义为：索引（Inex）是帮助MySQL高效获取数据的数据结构。</p> <p>索引的目的在于提高查询效率， 可以类比字典。</p> <p>索引可以影响 查询条件和排序</p> <h2 id="单值索引"><a href="#单值索引" aria-hidden="true" class="header-anchor">#</a> 单值索引</h2> <p>即一个索引只包含单个列，一个表可以有多个单列索引</p> <h2 id="唯一索引"><a href="#唯一索引" aria-hidden="true" class="header-anchor">#</a> 唯一索引</h2> <p>索引列的值必须唯一，但允许有空值</p> <h2 id="复合索引"><a href="#复合索引" aria-hidden="true" class="header-anchor">#</a> 复合索引</h2> <p>即一个索引包含多个列</p> <h2 id="基本语法"><a href="#基本语法" aria-hidden="true" class="header-anchor">#</a> 基本语法</h2> <h4 id="创建"><a href="#创建" aria-hidden="true" class="header-anchor">#</a> 创建</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token punctuation">[</span><span class="token keyword">UNIQUE</span><span class="token punctuation">]</span> <span class="token keyword">INDEX</span> indexName <span class="token keyword">on</span> myTable<span class="token punctuation">(</span>columnName<span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h4 id="删除"><a href="#删除" aria-hidden="true" class="header-anchor">#</a> 删除</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> <span class="token punctuation">[</span>indexName<span class="token punctuation">]</span> <span class="token keyword">ON</span> myTable<span class="token punctuation">;</span>
</code></pre></div><h4 id="查看"><a href="#查看" aria-hidden="true" class="header-anchor">#</a> 查看</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> table_name\g
</code></pre></div><h4 id="修改索引"><a href="#修改索引" aria-hidden="true" class="header-anchor">#</a> 修改索引</h4> <p>有四种方式来添加数据表的索引</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tbl_name <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span> 该语句添加一个主键， 这意味着索引值必须是唯一的，且不能为<span class="token boolean">NULL</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tbl_name <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> index_name<span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span> 创建索引的值是唯一的（除<span class="token boolean">NULL</span>外，<span class="token boolean">NULL</span> 可能出现多次）

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tbl_name <span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> index_name<span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span> 添加普通索引，索引值可出现多次

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tbl_name <span class="token keyword">ADD</span> FULLTEXT index_name<span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span>创建全文索引
</code></pre></div><h2 id="需要建索引的情况"><a href="#需要建索引的情况" aria-hidden="true" class="header-anchor">#</a> 需要建索引的情况</h2> <ul><li>1.主键自动建立唯一索引</li> <li>2.频繁作为查询条件的字段应该创建索</li> <li>3.查询中与其它表关联的字段，外键关系建立索引</li> <li>4.频繁更新的字段不适合创建索引</li> <li>5.Where 条件里用不到的字段不创建索引</li> <li>6.单键/组合索引的选择问题，who?(在高并发下倾向创建组合索引)</li> <li>7.查询中排序的字段，排序字段若通索引去访问将大提高排序速度。</li> <li>8.查询中统计或者分组字段</li></ul> <h2 id="哪引动情况不需要建索引"><a href="#哪引动情况不需要建索引" aria-hidden="true" class="header-anchor">#</a> 哪引动情况不需要建索引</h2> <ul><li>1.表记录太少</li> <li>2.经常增删改的表</li> <li>3.重复且分布平均的表字段。比如性别</li></ul> <h2 id="性能分析"><a href="#性能分析" aria-hidden="true" class="header-anchor">#</a> 性能分析</h2> <h4 id="explain"><a href="#explain" aria-hidden="true" class="header-anchor">#</a> Explain</h4> <p>使用Explain关键字可以模拟优化器执行SQL查询语句，从而知道 MySQL是如何处理你的SQL语句的。分析你的查询语句或是表结构的性能瓶颈。</p> <h4 id="语法"><a href="#语法" aria-hidden="true" class="header-anchor">#</a> 语法</h4> <p>explain + SQL</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  tbl_emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>   <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> tbl_emp <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>    <span class="token number">8</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="作用"><a href="#作用" aria-hidden="true" class="header-anchor">#</a> 作用</h4> <ul><li>表的读取顺序</li> <li>数据读取操作的操作类型</li> <li>哪些索引可以使用</li> <li>哪些索引被实际使用</li> <li>表之间的引用</li> <li>每张表有多少行被优化器查询</li></ul> <h5 id="id"><a href="#id" aria-hidden="true" class="header-anchor">#</a> id</h5> <p>select查询的序列号，包含一组数字，表示查询中执行select子句或操作表的顺序</p> <p>三种情况：</p> <ul><li>id 相同，执行顺序由上至下</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">explain</span> <span class="token keyword">select</span> t2<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> t1<span class="token punctuation">,</span> t2<span class="token punctuation">,</span> t3 <span class="token keyword">where</span> t1<span class="token punctuation">.</span>id <span class="token operator">=</span> t2<span class="token punctuation">.</span>id <span class="token operator">and</span> t1<span class="token punctuation">.</span>id <span class="token operator">=</span> t3<span class="token punctuation">.</span>id <span class="token operator">and</span> t1<span class="token punctuation">.</span>other_column<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>id不同，如果是子查询,id 序号会递增，id值越大优先级越高，越先被执行</li> <li>id即有相同，又有不同。 id 值越大，越先被执行，然后相同的顺序执行。</li></ul> <p>id 如果相同，可以认为是一组，从上往下顺序扩行；在所有组中，id值越大，优先级越高，越先执行。</p> <h4 id="select-type"><a href="#select-type" aria-hidden="true" class="header-anchor">#</a> select_type</h4> <ul><li>SIMPLE    简单的select 查询，查询中不包含子查询或者union</li> <li>PRIMARY   查询中若包含任何复杂的子查询，最外层查询则被标记为PRIMARY</li> <li>SUBQUERY  在SELECT或WHERE列表中包含了子查询</li> <li>DERIVED   在FROM列表中包含的子查询被标记为DERIVED(衍生)表，MySQL会递归执行这些子查询，把结果放在临时表里。</li> <li>UNION     若第个SELECT出现在UNION 之后，则被标记为UNION;若UNION包含在FROM子句的子查询中，外层将被标记为：DERIVED</li> <li>UNION RESULT 从UNION表获取结的SELECT， 也就是联合查询后的结果</li></ul> <h4 id="table-显示这一行的数是关于哪张表的"><a href="#table-显示这一行的数是关于哪张表的" aria-hidden="true" class="header-anchor">#</a> table 显示这一行的数是关于哪张表的</h4> <h4 id="type-访问类型"><a href="#type-访问类型" aria-hidden="true" class="header-anchor">#</a> type 访问类型</h4> <p>显示查询使用了何种类型</p> <ul><li><p>ALL</p></li> <li><p>index</p></li> <li><p>range</p></li> <li><p>ref</p></li> <li><p>eq_ref</p></li> <li><p>const, system</p></li> <li><p>null</p></li> <li><p>system 表只有一行记录(等同于系统表)，这是const类型的特例，平不会出现，这个也可以忽略不计</p></li> <li><p>const 表示通过索引一次就找到了，const用于比较primary key或者unique索引。因为只匹配一行数据，所以很快。如果将主键置于where列表中，MySQL就能将该查询转换为一个常量。</p></li> <li><p>eq_ref 唯一性索引扫描，对于每个索引键，表中只有一条记录与之匹配。常见于主键或唯一索引扫描 。</p></li> <li><p>ref 非唯一性索引扫描，返回匹配某人单独值的所有行。本质上也是一种索引访问，它返回所有匹配某个单独值的行。然而，它可能会找到多个符合条件的行，所以他应该属于查找和扫描的混合体</p></li> <li><p>range 只检索给定范围的行，使用一个索引来选择行。key列显示使用了哪个索引。一般就是在你的 where语句中出现了between &lt;  &gt; in 等的查询。这种范围索引扫描比全表扫描要好，因为它只需要开始于索引的某一点，而结束于另一点，不用扫描全部索引。</p></li> <li><p>index   Full Index Scan, index与ALL区别为index类型只遍历索引树。这通常比ALL快，因为索引文件通常比数据文件小。也就是说虽然all和Index都是读全表，但index是从索引中读取的，而all是从硬盘中读的。</p></li> <li><p>ALL 全表抛扫描
常见的从最好到最差依次是：</p></li></ul> <p>System &gt; const &gt; eq_ref &gt; ref &gt;range &gt; index &gt; ALL</p> <p>一般来说，得保证查询至少达到 range和ref级别</p> <p>key 实际使用的索引。如果为NULL ，则没有使用索引。查询中若使用了覆盖索引，则该索引仅出现在key列表中。</p> <h2 id="覆盖索引："><a href="#覆盖索引：" aria-hidden="true" class="header-anchor">#</a> 覆盖索引：</h2> <p>使查询的字段，和建索引的字段和顺序相同。</p> <ul><li><p>possible_keys 显示可能应用到这张表中的索引，一个或多个。查询涉及到的字段上若存在索引，则该索引将被列出，但不一定被查询实际使用。</p></li> <li><p>key_len 表示索引中使用的字节数，可通过该列计算查询中使用的索引的长度。在不损失精确性的情况下，长度越短越好。
key_len显示的值为索引字估的最大可能长度，并非实际使用长度，即key_len是根据表定义计算而得，不是通过表内检索出的。</p></li> <li><p>ref 显示索引的哪一列被使用了，如果可能的话，是一个常数。哪些列或常量被用于查找索引列上的值。</p></li> <li><p>rows 根据表统计信息及索引选用情况， 大致估算出找到所需的记所需要读取的行数。</p></li> <li><p>Extra 包含 不适合在其他列中显示，但十分重要的额外信息。</p></li> <li><p>Using filesort 说明MySQL会对数据使用一个外部的索引排序， 而不是按照表内的索引顺序进行读取。MySQL中无法利用索引完成排序操作称为“文件排序”。</p></li> <li><p>Using temporary 使用了临时表保存中间结果，MySQL在对查询结果排序时使用临时表。常见于排序ORDER BY 和分组查询group by</p></li> <li><p>Using index 表示相应的SELECT操作中使用了覆盖索引(Covering Index),避免访问了表的数据行，效率不错！如果同时出现Using where，表明索引被用来执行索引键值的查找；如果没有同时出现Using where，表明索引用来读取数据而非执行查找动作。直接从索引上读取到了数据，并没有执行查找表的数据。</p></li></ul> <h4 id="覆盖索引（covering-index）-一说索引覆盖。"><a href="#覆盖索引（covering-index）-一说索引覆盖。" aria-hidden="true" class="header-anchor">#</a> 覆盖索引（Covering Index）, 一说索引覆盖。</h4> <p>就是select的数据列只用从索引中就能够取得，不必读取数据行，MySQL可以利用索引返回Select列表中的字段，而不必根据索引再次读取数据文 件，换句话说查询列要被所建的索引覆盖。</p> <p><strong>注意：</strong> 如果要使用覆盖索引，一定要注意select列表中只取出需要的列，不可select *,因为如果将所有字段一起做索引会导致索引文件过大，查询性能下降。</p> <ul><li>using where                   使用了where过滤</li> <li>using join buffer             使用了连接缓存</li> <li>impossible where              where 子句的值总是false， 不能用来获取任何元组。</li> <li>select tables optimized away  在没有GROUPBY 子句的情况下，基于索引优化MIN/MAX操作或者对于MyISAM存储引擎优化COUNT(*)操作，不必等到执行阶段再进行计算，查询执行计划生成的除段即完成优化。</li> <li>distinct 优化DISTINCK 操作，在找到第一个匹配的元组后即停止找同样值的动作。</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/26.14cfb51c.js" defer></script><script src="/assets/js/app.f518d815.js" defer></script>
  </body>
</html>
