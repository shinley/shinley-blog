(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{191:function(s,t,a){"use strict";a.r(t);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"_21-批量数据脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_21-批量数据脚本","aria-hidden":"true"}},[s._v("#")]),s._v(" 21.批量数据脚本")]),s._v(" "),a("h2",{attrs:{id:"数据准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据准备","aria-hidden":"true"}},[s._v("#")]),s._v(" 数据准备")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" bigData"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("use")]),s._v(" bigData"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" dept"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("deptno"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("MEDIUMINT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("dname"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("20")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("''")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("loc"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("13")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("''")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token keyword"}},[s._v("ENGINE")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INNODB")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("CHARSET")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" GBK"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" emp"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("empno"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("MEDIUMINT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ename"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("20")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("''")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("mgr"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("MEDIUMINT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("hiredate"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DATE")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("sal"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DECIMAL")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("7")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("comm"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DECIMAL")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("7")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("deptno"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("MEDIUMINT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token keyword"}},[s._v("ENGINE")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INNODB")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("CHARSET")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" GBK"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),a("p",[s._v("创建函数，假如报错：this function has none of DETERMINISTIC....")]),s._v(" "),a("p",[s._v("由于开启过慢查询日志，因为我们开启了bin-log,我们就必须为我们的function指定一个参数。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),a("span",{attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'log_bin_trust_function_creators'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("global")]),s._v(" log_bin_trust_function_creators"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("这样添加了参数以后，如果mysqld重启，上述参数又会消失，永久方法")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("windows 下my"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ini "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 加上 log_bin_trust_function_creators"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),s._v("\nlinux下 "),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("my"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf下【mysqld】加上log_bin_trust_function_creators"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),a("h2",{attrs:{id:"创建函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建函数","aria-hidden":"true"}},[s._v("#")]),s._v(" 创建函数")]),s._v(" "),a("p",[s._v("创建随机字符串")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $$\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" rand_string"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("n "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("255")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" chars_str "),a("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("100")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" return_str "),a("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("255")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("''")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" i "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("WHILE")]),s._v(" i "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v(" n "),a("span",{attrs:{class:"token keyword"}},[s._v("DO")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" return_str"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("CONCAT"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("return_str"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" substring"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("chars_str"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" FLOOR"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("rand"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token operator"}},[s._v("*")]),a("span",{attrs:{class:"token number"}},[s._v("52")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" i "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" i "),a("span",{attrs:{class:"token operator"}},[s._v("+")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("WHILE")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" return_str"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $$\n")])])]),a("p",[s._v("创建随机数字")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $$\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" rand_num"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("5")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" i "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" i "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" floor"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" rand"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("10")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" i"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $$\n\n")])])]),a("p",[s._v("创建存储过程")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $$\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" insert_emp"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("10")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("IN")]),s._v(" max_num "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("10")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" i "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" AUTOCOMMIT "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("REPEAT")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" i"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("i"),a("span",{attrs:{class:"token operator"}},[s._v("+")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" emp"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empno"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ename"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("job"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mgr"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("hiredate"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sal"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("comm"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("deptno"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("START")]),a("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("i"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" rand_string"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("6")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token string"}},[s._v("'SALEMAN'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0001")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" curdate"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token number"}},[s._v("2000")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" rand_num"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    UNTIL  i "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" max_num\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("REPEAT")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("COMMIT")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $$\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $$\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" insert_dept"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("10")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  max_num "),a("span",{attrs:{class:"token keyword"}},[s._v("int")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("10")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" i "),a("span",{attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" AUTOCOMMIT "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("REPEAT")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" i "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" i "),a("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("into")]),s._v(" dept"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dname"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" loc"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("START")]),a("span",{attrs:{class:"token operator"}},[s._v("+")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" rand_string"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("10")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("rand_string"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("8")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    UNTIL  i "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" max_num\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("REPEAT")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("COMMIT")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $$\n\n")])])]),a("p",[s._v("恢复结束符")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("调用存储过程")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" insert_emp"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("100001")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("500000")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])}],!1,null,null,null);o.options.__file="21.批量数据脚本.md";t.default=o.exports}}]);