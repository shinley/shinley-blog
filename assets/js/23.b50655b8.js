(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{189:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"_3-mysql备份与还原"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-mysql备份与还原","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.MySql备份与还原")]),s._v(" "),t("h2",{attrs:{id:"一、使用mysqldump备份"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、使用mysqldump备份","aria-hidden":"true"}},[s._v("#")]),s._v(" 一、使用mysqlDump备份")]),s._v(" "),t("h2",{attrs:{id:"_1-备份数据库基本语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-备份数据库基本语法","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.备份数据库基本语法")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("u "),t("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("h host "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("p password dbname"),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("tbname"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("tbname"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("filename"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\n")])])]),t("p",[s._v("例：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("p booksdb"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("c:\\"),t("span",{attrs:{class:"token keyword"}},[s._v("backup")]),s._v("\\booksdb_20110101"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\nEnter password: "),t("span",{attrs:{class:"token operator"}},[s._v("*")]),t("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v("\n")])])]),t("h2",{attrs:{id:"_2-使用mysqldump备份数据库中的某个表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用mysqldump备份数据库中的某个表","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.使用mysqldump备份数据库中的某个表")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("u "),t("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("p123  "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("d booksDB books "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("c:\\"),t("span",{attrs:{class:"token keyword"}},[s._v("backup")]),s._v("\\books_20110101"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("sql")]),s._v(" \n")])])]),t("p",[s._v("-u user  指定用户名")]),s._v(" "),t("p",[s._v("-p123  指定密码")]),s._v(" "),t("p",[s._v("-d booksDB     只备份表结构，不备份数据。 不指定-d,即备份表结构也备份表数据")]),s._v(" "),t("p",[s._v("--skip-extended-insert 导出多条insert语句")]),s._v(" "),t("h2",{attrs:{id:"导出部分数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#导出部分数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 导出部分数据")]),s._v(" "),t("p",[s._v('mysqldump -u用户名 -p密码 数据库名 表名 --where="筛选条件" > 导出文件路径')]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("h10"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token number"}},[s._v("10.12")]),t("span",{attrs:{class:"token number"}},[s._v(".54")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("P33006 "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("uroot "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("p123456 "),t("span",{attrs:{class:"token comment"}},[s._v("--skip-lock-tables  --set-gtid-purged=off  test_db test_table  --where=\"code='1524612810604xiaoyuan.wang1150102953'\"  > t.sql")]),s._v("\n")])])]),t("h2",{attrs:{id:"_3-使用mysqldump备份多个数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用mysqldump备份多个数据库","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.使用mysqldump备份多个数据库")]),s._v(" "),t("p",[s._v("如果备份多个数据库，需要使用--databases参数，格式如下")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("u "),t("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("h host "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{attrs:{class:"token comment"}},[s._v("--all --databases>filename.sql")]),s._v("\n")])])]),t("p",[s._v("使用--all--databases参数时，不需要指定数据库名称")]),s._v(" "),t("p",[s._v("例：备份服务器中所有的数据库，输入语句如下：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{attrs:{class:"token comment"}},[s._v("--all--databases>c:\\backup\\alldbinMySQL.sql")]),s._v("\n")])])]),t("h2",{attrs:{id:"二、使用mysql命令还原"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、使用mysql命令还原","aria-hidden":"true"}},[s._v("#")]),s._v(" 二、使用mysql命令还原")]),s._v(" "),t("p",[s._v("对于已经备份包含create、insert语句的文件，可以使用mysql命令导入到数据库")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysql "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("u "),t("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dbname"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("filename"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\n")])])]),t("p",[s._v("如果filename.sql文件为mysqldump工具创建的包含创建数据库语句的文件，执行的时候\n不需要指定数据库名。")]),s._v(" "),t("p",[s._v("如果已经登录MySQL服务器，还可以使用source命令导入sql文件。语法为：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("source filename"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\n")])])])])}],!1,null,null,null);r.options.__file="3.MySQL备份与还原.md";a.default=r.exports}}]);